{"ast":null,"code":"import _toConsumableArray from\"/Users/roneillabumanlag/GitHub/IXDS2-Project/companion-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/roneillabumanlag/GitHub/IXDS2-Project/companion-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/roneillabumanlag/GitHub/IXDS2-Project/companion-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React,{useState,useEffect}from'react';import axios from'axios';import styled from'styled-components';import{FlexBetween,H3,H4,P,PrimaryButton,PrimaryButtonOutline,SmallOutlineButton,TextInput}from'../shared/global';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var InputRow=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\tdisplay: flex;\\n\\tjustify-content: space-between;\\n\\talign-items: center;\\n\\tborder: 1px #eee solid;\\n\\tborder-radius: 5px;\\n\\tpadding: 0.5rem;\\n\\tmargin: 0.5rem 0;\\n\"])));var CenteredRow=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\twidth: 100%;\\n\"])));var StyledTextInput=styled(TextInput)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n\\twidth: 150px;\\n\\tfont-size: 1rem;\\n\\tpadding: 0.25rem;\\n\\tmargin: 0 0.25rem;\\n\"])));var FinancialTracker=function FinancialTracker(props){var username=props.username;var roundCount=props.roundCount;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),ready=_useState2[0],setReady=_useState2[1];var salary=props.salary;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),incomeDone=_useState4[0],setIncomeDone=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),expenseDone=_useState6[0],setExpenseDone=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),transferDone=_useState8[0],setTransferDone=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),totalIncome=_useState10[0],setTotalIncome=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),totalExpenses=_useState12[0],setTotalExpenses=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),incomeSource=_useState14[0],setIncomeSource=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),incomeAmount=_useState16[0],setIncomeAmount=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),expenseSource=_useState18[0],setExpenseSource=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),expenseAmount=_useState20[0],setExpenseAmount=_useState20[1];var _useState21=useState([{}]),_useState22=_slicedToArray(_useState21,2),incomeEntries=_useState22[0],setIncomeEntries=_useState22[1];var _useState23=useState([{}]),_useState24=_slicedToArray(_useState23,2),expenseEntries=_useState24[0],setExpenseEntries=_useState24[1];var _useState25=useState(0),_useState26=_slicedToArray(_useState25,2),chequingDeposit=_useState26[0],setChequingDeposit=_useState26[1];var _useState27=useState(0),_useState28=_slicedToArray(_useState27,2),savingsDeposit=_useState28[0],setSavingsDeposit=_useState28[1];// use effect, watch if round count changes\nuseEffect(function(){console.log('hey its a new round! '+roundCount);setReady(true);setTotalIncome(salary);},[roundCount]);useEffect(function(){setIncomeEntries([{source:'Salary 1',amount:Number(salary)}]);setTotalIncome(salary);},[]);var addIncome=function addIncome(){if(incomeAmount!=null&&incomeSource!=null){if(incomeAmount!=''&&incomeSource!='null'){setIncomeEntries([].concat(_toConsumableArray(incomeEntries),[{source:incomeSource,amount:Number(incomeAmount)}]));setTotalIncome(+totalIncome+ +incomeAmount);document.getElementById('incomeSource').value='';document.getElementById('incomeAmount').value='';setIncomeSource('');setIncomeAmount('');}else{alert('enter an amount');}}else{alert('enter an amount');}};var addExpense=function addExpense(){if(expenseAmount!=null&&expenseSource!=null){if(expenseAmount!=''&&expenseSource!='null'){setExpenseEntries([].concat(_toConsumableArray(expenseEntries),[{source:expenseSource,amount:Number(expenseAmount)}]));setTotalExpenses(+totalExpenses+ +expenseAmount);document.getElementById('expenseSource').value='';document.getElementById('expenseAmount').value='';setExpenseSource('');setExpenseAmount('');}else{alert('enter an amount');}}else{alert('enter an amount');}};var income=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(FlexBetween,{children:/*#__PURE__*/_jsx(H3,{children:\"Enter all your income this month\"})}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsxs(InputRow,{children:[/*#__PURE__*/_jsx(StyledTextInput,{id:\"incomeSource\",type:\"text\",placeholder:\"Income Source\",onChange:function onChange(e){return setIncomeSource(e.target.value);}}),/*#__PURE__*/_jsx(StyledTextInput,{id:\"incomeAmount\",type:\"number\",placeholder:\"Income Amount\",onChange:function onChange(e){return setIncomeAmount(e.target.value);}})]}),/*#__PURE__*/_jsx(CenteredRow,{children:/*#__PURE__*/_jsx(SmallOutlineButton,{onClick:addIncome,children:\"Add income\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(H3,{children:\"Income Entries\"}),incomeEntries.map(function(data,index){return index>=0?/*#__PURE__*/_jsxs(InputRow,{children:[/*#__PURE__*/_jsxs(H3,{children:[\" \",data.source]}),/*#__PURE__*/_jsx(P,{className:\"dollar\",children:data.amount})]},index):null;}),/*#__PURE__*/_jsxs(H3,{style:{textAlign:'right'},children:[\"Total income: $\",totalIncome]})]}),/*#__PURE__*/_jsx(CenteredRow,{children:/*#__PURE__*/_jsx(PrimaryButton,{onClick:function onClick(e){return setIncomeDone(true);},children:\"Next\"})})]});var expense=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(FlexBetween,{children:/*#__PURE__*/_jsx(H3,{children:\"Enter all your expenses this month\"})}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsxs(InputRow,{children:[/*#__PURE__*/_jsx(StyledTextInput,{id:\"expenseSource\",type:\"text\",placeholder:\"Expense Source\",onChange:function onChange(e){return setExpenseSource(e.target.value);}}),/*#__PURE__*/_jsx(StyledTextInput,{id:\"expenseAmount\",type:\"number\",placeholder:\"Expense Amount\",onChange:function onChange(e){return setExpenseAmount(e.target.value);}})]}),/*#__PURE__*/_jsx(CenteredRow,{children:/*#__PURE__*/_jsx(SmallOutlineButton,{onClick:addExpense,children:\"Add expense\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(H3,{children:\"Expense Entries\"}),expenseEntries.map(function(data,index){return index>0?/*#__PURE__*/_jsxs(InputRow,{children:[/*#__PURE__*/_jsxs(H3,{children:[\" \",data.source]}),/*#__PURE__*/_jsx(P,{className:\"dollar\",children:data.amount})]},index):null;}),/*#__PURE__*/_jsxs(H3,{style:{textAlign:'right'},children:[\"Total expenses: $\",totalExpenses]})]}),/*#__PURE__*/_jsx(CenteredRow,{children:/*#__PURE__*/_jsx(PrimaryButton,{onClick:function onClick(e){return setExpenseDone(true);},children:\"Next\"})})]});var finishTransfer=function finishTransfer(e){setTransferDone(true);e.preventDefault();var total=totalIncome-totalExpenses-chequingDeposit-savingsDeposit;var bankDeposit={chequingDeposit:chequingDeposit,savingsDeposit:savingsDeposit};axios.post('http://localhost:5000/users/bankAccount/'+username,bankDeposit).then(function(res){console.log(res.data);alert('deposits added');});if(total===0){setIncomeDone(false);setExpenseDone(false);setTransferDone(false);setTotalIncome(salary);setTotalExpenses(0);setChequingDeposit(0);setSavingsDeposit(0);setReady(false);return;}else{alert('please make sure that total left to transfer is 0');}};var transfer=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(H3,{children:\"Monthly Summary\"}),/*#__PURE__*/_jsxs(InputRow,{children:[/*#__PURE__*/_jsx(H3,{children:\"Total Income\"}),/*#__PURE__*/_jsx(P,{className:\"dollar\",children:totalIncome})]}),/*#__PURE__*/_jsxs(InputRow,{children:[/*#__PURE__*/_jsx(H3,{children:\"Total Expenses\"}),/*#__PURE__*/_jsx(P,{className:\"dollar\",children:totalExpenses})]}),/*#__PURE__*/_jsxs(H3,{children:[\"Total amount to transfer: $\",totalIncome-totalExpenses]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(P,{children:\"Enter amount desired to transfer into each account\"}),/*#__PURE__*/_jsxs(InputRow,{children:[/*#__PURE__*/_jsx(H3,{children:\"Chequing\"}),/*#__PURE__*/_jsx(StyledTextInput,{id:\"chequingDeposit\",type:\"number\",placeholder:\"Chequing\",value:chequingDeposit,onChange:function onChange(e){return setChequingDeposit(e.target.value);}})]}),/*#__PURE__*/_jsxs(InputRow,{children:[/*#__PURE__*/_jsx(H3,{children:\"Savings\"}),/*#__PURE__*/_jsx(StyledTextInput,{id:\"savingsDeposit\",type:\"number\",placeholder:\"Savings\",value:savingsDeposit,onChange:function onChange(e){return setSavingsDeposit(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"span\",{style:{textAlign:'right'},children:[totalIncome-totalExpenses-chequingDeposit-savingsDeposit===0?/*#__PURE__*/_jsx(P,{children:\"You've transferred it all!\"}):/*#__PURE__*/_jsxs(P,{style:{color:'red'},children:[\"Amount left: $\",totalIncome-totalExpenses-chequingDeposit-savingsDeposit]}),/*#__PURE__*/_jsxs(H3,{children:[\"Total Transferred: $\",+chequingDeposit+ +savingsDeposit]}),/*#__PURE__*/_jsx(PrimaryButton,{onClick:finishTransfer,children:\"Next\"})]})]})]});return/*#__PURE__*/_jsx(\"div\",{children:ready===true?incomeDone===false?income:expenseDone===false?expense:transferDone===false?transfer:null:/*#__PURE__*/_jsx(\"div\",{children:\"Waiting for next round\"})});};export default FinancialTracker;","map":{"version":3,"sources":["/Users/roneillabumanlag/GitHub/IXDS2-Project/companion-app/frontend/src/components/FinancialTracker.js"],"names":["React","useState","useEffect","axios","styled","FlexBetween","H3","H4","P","PrimaryButton","PrimaryButtonOutline","SmallOutlineButton","TextInput","InputRow","div","CenteredRow","StyledTextInput","FinancialTracker","props","username","roundCount","ready","setReady","salary","incomeDone","setIncomeDone","expenseDone","setExpenseDone","transferDone","setTransferDone","totalIncome","setTotalIncome","totalExpenses","setTotalExpenses","incomeSource","setIncomeSource","incomeAmount","setIncomeAmount","expenseSource","setExpenseSource","expenseAmount","setExpenseAmount","incomeEntries","setIncomeEntries","expenseEntries","setExpenseEntries","chequingDeposit","setChequingDeposit","savingsDeposit","setSavingsDeposit","console","log","source","amount","Number","addIncome","document","getElementById","value","alert","addExpense","income","e","target","map","data","index","textAlign","expense","finishTransfer","preventDefault","total","bankDeposit","post","then","res","transfer","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\n\nimport {\n\tFlexBetween,\n\tH3,\n\tH4,\n\tP,\n\tPrimaryButton,\n\tPrimaryButtonOutline,\n\tSmallOutlineButton,\n\tTextInput,\n} from '../shared/global';\n\nconst InputRow = styled.div`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tborder: 1px #eee solid;\n\tborder-radius: 5px;\n\tpadding: 0.5rem;\n\tmargin: 0.5rem 0;\n`;\n\nconst CenteredRow = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 100%;\n`;\n\nconst StyledTextInput = styled(TextInput)`\n\twidth: 150px;\n\tfont-size: 1rem;\n\tpadding: 0.25rem;\n\tmargin: 0 0.25rem;\n`;\n\nconst FinancialTracker = (props) => {\n\tconst username = props.username;\n\tconst roundCount = props.roundCount;\n\n\tconst [ready, setReady] = useState(false);\n\n\tconst salary = props.salary;\n\tconst [incomeDone, setIncomeDone] = useState(false);\n\tconst [expenseDone, setExpenseDone] = useState(false);\n\tconst [transferDone, setTransferDone] = useState(false);\n\n\tconst [totalIncome, setTotalIncome] = useState(0);\n\tconst [totalExpenses, setTotalExpenses] = useState(0);\n\n\tconst [incomeSource, setIncomeSource] = useState();\n\tconst [incomeAmount, setIncomeAmount] = useState(0);\n\tconst [expenseSource, setExpenseSource] = useState();\n\tconst [expenseAmount, setExpenseAmount] = useState(0);\n\n\tconst [incomeEntries, setIncomeEntries] = useState([{}]);\n\tconst [expenseEntries, setExpenseEntries] = useState([{}]);\n\n\tconst [chequingDeposit, setChequingDeposit] = useState(0);\n\tconst [savingsDeposit, setSavingsDeposit] = useState(0);\n\n\t// use effect, watch if round count changes\n\tuseEffect(() => {\n\t\tconsole.log('hey its a new round! ' + roundCount);\n\t\tsetReady(true);\n\n\t\tsetTotalIncome(salary);\n\t}, [roundCount]);\n\n\tuseEffect(() => {\n\t\tsetIncomeEntries([\n\t\t\t{\n\t\t\t\tsource: 'Salary 1',\n\t\t\t\tamount: Number(salary),\n\t\t\t},\n\t\t]);\n\n\t\tsetTotalIncome(salary);\n\t}, []);\n\n\tconst addIncome = () => {\n\t\tif (incomeAmount != null && incomeSource != null) {\n\t\t\tif (incomeAmount != '' && incomeSource != 'null') {\n\t\t\t\tsetIncomeEntries([\n\t\t\t\t\t...incomeEntries,\n\t\t\t\t\t{\n\t\t\t\t\t\tsource: incomeSource,\n\t\t\t\t\t\tamount: Number(incomeAmount),\n\t\t\t\t\t},\n\t\t\t\t]);\n\n\t\t\t\tsetTotalIncome(+totalIncome + +incomeAmount);\n\t\t\t\tdocument.getElementById('incomeSource').value = '';\n\t\t\t\tdocument.getElementById('incomeAmount').value = '';\n\n\t\t\t\tsetIncomeSource('');\n\t\t\t\tsetIncomeAmount('');\n\t\t\t} else {\n\t\t\t\talert('enter an amount');\n\t\t\t}\n\t\t} else {\n\t\t\talert('enter an amount');\n\t\t}\n\t};\n\n\tconst addExpense = () => {\n\t\tif (expenseAmount != null && expenseSource != null) {\n\t\t\tif (expenseAmount != '' && expenseSource != 'null') {\n\t\t\t\tsetExpenseEntries([\n\t\t\t\t\t...expenseEntries,\n\t\t\t\t\t{\n\t\t\t\t\t\tsource: expenseSource,\n\t\t\t\t\t\tamount: Number(expenseAmount),\n\t\t\t\t\t},\n\t\t\t\t]);\n\n\t\t\t\tsetTotalExpenses(+totalExpenses + +expenseAmount);\n\t\t\t\tdocument.getElementById('expenseSource').value = '';\n\t\t\t\tdocument.getElementById('expenseAmount').value = '';\n\n\t\t\t\tsetExpenseSource('');\n\t\t\t\tsetExpenseAmount('');\n\t\t\t} else {\n\t\t\t\talert('enter an amount');\n\t\t\t}\n\t\t} else {\n\t\t\talert('enter an amount');\n\t\t}\n\t};\n\n\tconst income = (\n\t\t<div>\n\t\t\t<FlexBetween>\n\t\t\t\t<H3>Enter all your income this month</H3>\n\t\t\t</FlexBetween>\n\n\t\t\t<span>\n\t\t\t\t<InputRow>\n\t\t\t\t\t<StyledTextInput\n\t\t\t\t\t\tid=\"incomeSource\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Income Source\"\n\t\t\t\t\t\tonChange={(e) => setIncomeSource(e.target.value)}></StyledTextInput>\n\t\t\t\t\t<StyledTextInput\n\t\t\t\t\t\tid=\"incomeAmount\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Income Amount\"\n\t\t\t\t\t\tonChange={(e) => setIncomeAmount(e.target.value)}></StyledTextInput>\n\t\t\t\t</InputRow>\n\t\t\t\t<CenteredRow>\n\t\t\t\t\t<SmallOutlineButton onClick={addIncome}>\n\t\t\t\t\t\tAdd income\n\t\t\t\t\t</SmallOutlineButton>\n\t\t\t\t</CenteredRow>\n\t\t\t</span>\n\n\t\t\t<div>\n\t\t\t\t<H3>Income Entries</H3>\n\t\t\t\t{incomeEntries.map((data, index) =>\n\t\t\t\t\tindex >= 0 ? (\n\t\t\t\t\t\t<InputRow key={index}>\n\t\t\t\t\t\t\t<H3> {data.source}</H3>\n\t\t\t\t\t\t\t<P className=\"dollar\">{data.amount}</P>\n\t\t\t\t\t\t</InputRow>\n\t\t\t\t\t) : null\n\t\t\t\t)}\n\t\t\t\t<H3 style={{ textAlign: 'right' }}>Total income: ${totalIncome}</H3>\n\t\t\t</div>\n\n\t\t\t<CenteredRow>\n\t\t\t\t<PrimaryButton onClick={(e) => setIncomeDone(true)}>Next</PrimaryButton>\n\t\t\t</CenteredRow>\n\t\t</div>\n\t);\n\n\tconst expense = (\n\t\t<div>\n\t\t\t<FlexBetween>\n\t\t\t\t<H3>Enter all your expenses this month</H3>\n\t\t\t</FlexBetween>\n\n\t\t\t<span>\n\t\t\t\t<InputRow>\n\t\t\t\t\t<StyledTextInput\n\t\t\t\t\t\tid=\"expenseSource\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Expense Source\"\n\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\tsetExpenseSource(e.target.value)\n\t\t\t\t\t\t}></StyledTextInput>\n\t\t\t\t\t<StyledTextInput\n\t\t\t\t\t\tid=\"expenseAmount\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Expense Amount\"\n\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\tsetExpenseAmount(e.target.value)\n\t\t\t\t\t\t}></StyledTextInput>\n\t\t\t\t</InputRow>\n\t\t\t\t<CenteredRow>\n\t\t\t\t\t<SmallOutlineButton onClick={addExpense}>\n\t\t\t\t\t\tAdd expense\n\t\t\t\t\t</SmallOutlineButton>\n\t\t\t\t</CenteredRow>\n\t\t\t</span>\n\n\t\t\t<div>\n\t\t\t\t<H3>Expense Entries</H3>\n\t\t\t\t{expenseEntries.map((data, index) =>\n\t\t\t\t\tindex > 0 ? (\n\t\t\t\t\t\t<InputRow key={index}>\n\t\t\t\t\t\t\t<H3> {data.source}</H3>\n\t\t\t\t\t\t\t<P className=\"dollar\">{data.amount}</P>\n\t\t\t\t\t\t</InputRow>\n\t\t\t\t\t) : null\n\t\t\t\t)}\n\t\t\t\t<H3 style={{ textAlign: 'right' }}>Total expenses: ${totalExpenses}</H3>\n\t\t\t</div>\n\n\t\t\t<CenteredRow>\n\t\t\t\t<PrimaryButton onClick={(e) => setExpenseDone(true)}>\n\t\t\t\t\tNext\n\t\t\t\t</PrimaryButton>\n\t\t\t</CenteredRow>\n\t\t</div>\n\t);\n\n\tconst finishTransfer = (e) => {\n\t\tsetTransferDone(true);\n\n\t\te.preventDefault();\n\t\tconst total =\n\t\t\ttotalIncome - totalExpenses - chequingDeposit - savingsDeposit;\n\n\t\tconst bankDeposit = {\n\t\t\tchequingDeposit: chequingDeposit,\n\t\t\tsavingsDeposit: savingsDeposit,\n\t\t};\n\n\t\taxios\n\t\t\t.post('http://localhost:5000/users/bankAccount/' + username, bankDeposit)\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\talert('deposits added');\n\t\t\t});\n\n\t\tif (total === 0) {\n\t\t\tsetIncomeDone(false);\n\t\t\tsetExpenseDone(false);\n\t\t\tsetTransferDone(false);\n\t\t\tsetTotalIncome(salary);\n\t\t\tsetTotalExpenses(0);\n\t\t\tsetChequingDeposit(0);\n\t\t\tsetSavingsDeposit(0);\n\t\t\tsetReady(false);\n\t\t\treturn;\n\t\t} else {\n\t\t\talert('please make sure that total left to transfer is 0');\n\t\t}\n\t};\n\n\tconst transfer = (\n\t\t<div>\n\t\t\t<div>\n\t\t\t\t<H3>Monthly Summary</H3>\n\t\t\t\t<InputRow>\n\t\t\t\t\t<H3>Total Income</H3>\n\t\t\t\t\t<P className=\"dollar\">{totalIncome}</P>\n\t\t\t\t</InputRow>\n\t\t\t\t<InputRow>\n\t\t\t\t\t<H3>Total Expenses</H3>\n\t\t\t\t\t<P className=\"dollar\">{totalExpenses}</P>\n\t\t\t\t</InputRow>\n\n\t\t\t\t<H3>Total amount to transfer: ${totalIncome - totalExpenses}</H3>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<P>Enter amount desired to transfer into each account</P>\n\t\t\t\t<InputRow>\n\t\t\t\t\t<H3>Chequing</H3>\n\t\t\t\t\t<StyledTextInput\n\t\t\t\t\t\tid=\"chequingDeposit\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Chequing\"\n\t\t\t\t\t\tvalue={chequingDeposit}\n\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\tsetChequingDeposit(e.target.value)\n\t\t\t\t\t\t}></StyledTextInput>\n\t\t\t\t</InputRow>\n\t\t\t\t<InputRow>\n\t\t\t\t\t<H3>Savings</H3>\n\t\t\t\t\t<StyledTextInput\n\t\t\t\t\t\tid=\"savingsDeposit\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Savings\"\n\t\t\t\t\t\tvalue={savingsDeposit}\n\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\tsetSavingsDeposit(e.target.value)\n\t\t\t\t\t\t}></StyledTextInput>\n\t\t\t\t</InputRow>\n\t\t\t\t<span style={{ textAlign: 'right' }}>\n\t\t\t\t\t{totalIncome - totalExpenses - chequingDeposit - savingsDeposit ===\n\t\t\t\t\t0 ? (\n\t\t\t\t\t\t<P>You've transferred it all!</P>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<P style={{ color: 'red' }}>\n\t\t\t\t\t\t\tAmount left: $\n\t\t\t\t\t\t\t{totalIncome - totalExpenses - chequingDeposit - savingsDeposit}\n\t\t\t\t\t\t</P>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<H3>Total Transferred: ${+chequingDeposit + +savingsDeposit}</H3>\n\n\t\t\t\t\t<PrimaryButton onClick={finishTransfer}>Next</PrimaryButton>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<div>\n\t\t\t{ready === true ? (\n\t\t\t\tincomeDone === false ? (\n\t\t\t\t\tincome\n\t\t\t\t) : expenseDone === false ? (\n\t\t\t\t\texpense\n\t\t\t\t) : transferDone === false ? (\n\t\t\t\t\ttransfer\n\t\t\t\t) : null\n\t\t\t) : (\n\t\t\t\t<div>Waiting for next round</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default FinancialTracker;\n"]},"metadata":{},"sourceType":"module"}