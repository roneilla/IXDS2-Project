{"ast":null,"code":"var _jsxFileName = \"/Users/roneillabumanlag/GitHub/IXDS2-Project/companion-app/src/pages/Player.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react'; // import styled from 'styled-components';\n\nimport { Container } from '../shared/global';\nimport queryString from 'query-string';\nimport io from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet socket;\nlet connectionOptions = {\n  'force new connection': true,\n  reconnectionAttempts: 'Infinity',\n  timeout: 1000,\n  transports: ['websocket']\n};\n\nconst Player = ({\n  location\n}) => {\n  _s();\n\n  const [username, setUsername] = useState('');\n  const [servername, setServername] = useState('');\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const ENDPOINT = 'http://localhost:5000';\n  useEffect(() => {\n    const {\n      username,\n      servername\n    } = queryString.parse(location.search);\n    socket = io.connect(ENDPOINT, connectionOptions);\n    setUsername(username);\n    setServername(servername);\n    socket.emit('join', {\n      username,\n      servername\n    }, ({}) => {});\n    return () => {\n      socket.emit('disconnect');\n      socket.off();\n    };\n  }, [ENDPOINT, location.search]);\n  useEffect(() => {\n    socket.on('message', message => {\n      setMessages([...messages, message]);\n    });\n  }, [messages]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Player, \"7ulnANJ2JJePM+WF1Zp5PFL0C0o=\");\n\n_c = Player;\nexport default Player;\n\nvar _c;\n\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"sources":["/Users/roneillabumanlag/GitHub/IXDS2-Project/companion-app/src/pages/Player.js"],"names":["React","useState","useEffect","Container","queryString","io","socket","connectionOptions","reconnectionAttempts","timeout","transports","Player","location","username","setUsername","servername","setServername","message","setMessage","messages","setMessages","ENDPOINT","parse","search","connect","emit","off","on"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C,C,CACA;;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,EAAP,MAAe,kBAAf;;AAEA,IAAIC,MAAJ;AAEA,IAAIC,iBAAiB,GAAG;AACvB,0BAAwB,IADD;AAEvBC,EAAAA,oBAAoB,EAAE,UAFC;AAGvBC,EAAAA,OAAO,EAAE,IAHc;AAIvBC,EAAAA,UAAU,EAAE,CAAC,WAAD;AAJW,CAAxB;;AAOA,MAAMC,MAAM,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAChC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACc,UAAD,EAAaC,aAAb,IAA8Bf,QAAQ,CAAC,EAAD,CAA5C;AAEA,QAAM,CAACgB,OAAD,EAAUC,UAAV,IAAwBjB,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACkB,QAAD,EAAWC,WAAX,IAA0BnB,QAAQ,CAAC,EAAD,CAAxC;AAEA,QAAMoB,QAAQ,GAAG,uBAAjB;AAEAnB,EAAAA,SAAS,CAAC,MAAM;AACf,UAAM;AAAEW,MAAAA,QAAF;AAAYE,MAAAA;AAAZ,QAA2BX,WAAW,CAACkB,KAAZ,CAAkBV,QAAQ,CAACW,MAA3B,CAAjC;AAEAjB,IAAAA,MAAM,GAAGD,EAAE,CAACmB,OAAH,CAAWH,QAAX,EAAqBd,iBAArB,CAAT;AAEAO,IAAAA,WAAW,CAACD,QAAD,CAAX;AACAG,IAAAA,aAAa,CAACD,UAAD,CAAb;AAEAT,IAAAA,MAAM,CAACmB,IAAP,CAAY,MAAZ,EAAoB;AAAEZ,MAAAA,QAAF;AAAYE,MAAAA;AAAZ,KAApB,EAA8C,CAAC,EAAD,KAAQ,CAAE,CAAxD;AAEA,WAAO,MAAM;AACZT,MAAAA,MAAM,CAACmB,IAAP,CAAY,YAAZ;AACAnB,MAAAA,MAAM,CAACoB,GAAP;AACA,KAHD;AAIA,GAdQ,EAcN,CAACL,QAAD,EAAWT,QAAQ,CAACW,MAApB,CAdM,CAAT;AAgBArB,EAAAA,SAAS,CAAC,MAAM;AACfI,IAAAA,MAAM,CAACqB,EAAP,CAAU,SAAV,EAAsBV,OAAD,IAAa;AACjCG,MAAAA,WAAW,CAAC,CAAC,GAAGD,QAAJ,EAAcF,OAAd,CAAD,CAAX;AACA,KAFD;AAGA,GAJQ,EAIN,CAACE,QAAD,CAJM,CAAT;AAKA,sBACC,QAAC,SAAD;AAAA,2BACC;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADD;AAKA,CAnCD;;GAAMR,M;;KAAAA,M;AAqCN,eAAeA,MAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\n// import styled from 'styled-components';\nimport { Container } from '../shared/global';\nimport queryString from 'query-string';\nimport io from 'socket.io-client';\n\nlet socket;\n\nlet connectionOptions = {\n\t'force new connection': true,\n\treconnectionAttempts: 'Infinity',\n\ttimeout: 1000,\n\ttransports: ['websocket'],\n};\n\nconst Player = ({ location }) => {\n\tconst [username, setUsername] = useState('');\n\tconst [servername, setServername] = useState('');\n\n\tconst [message, setMessage] = useState('');\n\tconst [messages, setMessages] = useState([]);\n\n\tconst ENDPOINT = 'http://localhost:5000';\n\n\tuseEffect(() => {\n\t\tconst { username, servername } = queryString.parse(location.search);\n\n\t\tsocket = io.connect(ENDPOINT, connectionOptions);\n\n\t\tsetUsername(username);\n\t\tsetServername(servername);\n\n\t\tsocket.emit('join', { username, servername }, ({}) => {});\n\n\t\treturn () => {\n\t\t\tsocket.emit('disconnect');\n\t\t\tsocket.off();\n\t\t};\n\t}, [ENDPOINT, location.search]);\n\n\tuseEffect(() => {\n\t\tsocket.on('message', (message) => {\n\t\t\tsetMessages([...messages, message]);\n\t\t});\n\t}, [messages]);\n\treturn (\n\t\t<Container>\n\t\t\t<div></div>\n\t\t</Container>\n\t);\n};\n\nexport default Player;\n"]},"metadata":{},"sourceType":"module"}